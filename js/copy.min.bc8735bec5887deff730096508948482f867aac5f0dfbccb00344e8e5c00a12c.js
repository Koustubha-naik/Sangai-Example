document.addEventListener("click",e=>{const t=e.target.closest(".copy-code-btn");if(!t)return;const o=t.closest(".code-block-wrapper");if(!o)return;const i=o.querySelector("pre code");if(!i)return;const s=i.innerText.replace(/^\s*\d+\s+/gm,""),n=t.querySelector(".copy-text");navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(s).then(r).catch(()=>a(s)):a(s);function a(e){const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="fixed",t.style.top="-9999px",document.body.appendChild(t),t.select();try{document.execCommand("copy"),r()}catch(e){console.error("Copy failed:",e)}document.body.removeChild(t)}function r(){if(!n)return;const e=n.textContent;n.textContent="Copied!",t.classList.add("copied"),setTimeout(()=>{n.textContent=e,t.classList.remove("copied")},1200)}})